<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Jeu Piano ‚Äî Ear Trainer Pro</title>
  <meta name="description" content="√âcoute, rejoue en rythme, progresse par niveaux et bats ton record !" />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* ------ AJOUTS SP√âCIFIQUES AU JEU (l√©ger) ------ */
    .hud{ display:grid; grid-template-columns: repeat(5,1fr); gap:.6rem; margin:.8rem 0 }
    .hud .box{ background: color-mix(in hsl, var(--card), transparent 14%); border:1px solid var(--border); border-radius:12px; padding:.7rem; text-align:center }
    .hud .val{ font-weight:800; font-size: clamp(18px, 1rem + .5vw, 22px) }
    .settings{ display:flex; flex-wrap:wrap; gap:.8rem; align-items:center }
    .settings label{ display:flex; align-items:center; gap:.4rem; font-weight:600 }
    .meter{ height:10px; background: color-mix(in hsl, var(--bg-soft), white 6%); border:1px solid var(--border); border-radius:999px; overflow:hidden }
    .meter>span{ display:block; height:100%; width:0%; background: linear-gradient(90deg, var(--primary), var(--primary-2)); transition:width .3s }
    .pills{ display:flex; gap:.4rem; flex-wrap:wrap }
    .pill{ padding:.25rem .55rem; border:1px solid var(--border); border-radius:999px; font-size:.9em; color:var(--muted) }
    .key-label{ position:absolute; bottom:6px; left:0; right:0; text-align:center; font-size:.75em; opacity:.8; pointer-events:none }
    .modal{ position:fixed; inset:0; background: rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; padding:1rem }
    .modal .panel{ width:min(720px, 92vw); background: var(--card); border:1px solid var(--border); border-radius:16px; padding:1rem 1.2rem }
    .modal .panel h3{ margin-bottom:.5rem }
    .modal.open{ display:flex }
    .kbd{ border:1px solid var(--border); border-bottom-width:3px; padding:.1rem .35rem; border-radius:6px; background: color-mix(in hsl, var(--card), white 8%) }
    .btn.small{ padding:.55rem .8rem; font-size: 14px }
    .piano .key.white.hit-ok{ box-shadow: inset 0 0 0 3px #22c55e60 }
    .piano .key.white.hit-bad{ box-shadow: inset 0 0 0 3px #ef444460 }
  </style>
  <script defer src="main.js"></script>
  <script defer src="game.js"></script>
</head>
<body>
  <!-- HEADER + MENU -->
<header class="site-header">
  <div class="container navbar">
    <!-- Brand √† gauche -->
    <div class="brand">
      <img src="media/Screenshot from 2025-10-25 10-27-20.png" alt="Photo de Gr√©gory" class="photo" />
      <div>
        <strong class="brand-name">Gr√©gory Sordelet</strong><br>
        <span class="brand-tag">√âtudiant EPITECH & Dev Web</span>
      </div>
    </div>

    <!-- Menu desktop -->
    <nav aria-label="Navigation principale" id="navDesktop">
      <a href="index.html#about">√Ä propos</a>
      <a href="index.html#experience">Exp√©rience</a>
      <a href="index.html#education">Formation</a>
      <a href="index.html#skills">Comp√©tences</a>
      <a href="index.html#passions">Passions</a>
      <a href="projets.html">Projets</a>
      <a href="game.html">Jeu</a>
      <a href="melody.html">M√©lodie</a>
      <a href="index.html#contact">Contact</a>
    </nav>

    <!-- Bouton ‚ò∞ pour mobile -->
    <button class="mobile-menu-toggle no-print" id="openMenu">
      ‚ò∞ Menu
    </button>

    <div class="no-print" style="display:flex; gap:.4rem">
      <button class="btn" id="themeBtn" aria-label="Basculer le th√®me">üåì</button>
    </div>
  </div>
</header>

<!-- ‚ö†Ô∏è TR√àS IMPORTANT : le panneau mobile est EN DEHORS du header -->
<div class="mobile-panel" id="mobilePanel">
  <div class="mobile-panel-inner">
    <div class="mobile-panel-header">
      <span>Menu</span>
      <button id="closeMenu" aria-label="Fermer le menu">‚úï</button>
    </div>
    <nav class="mobile-panel-list" aria-label="Navigation mobile">
      <a class="cat-link" href="index.html#about">√Ä propos</a>
      <a class="cat-link" href="index.html#experience">Exp√©rience</a>
      <a class="cat-link" href="index.html#education">Formation</a>
      <a class="cat-link" href="index.html#skills">Comp√©tences</a>
      <a class="cat-link" href="index.html#passions">Passions</a>
      <a class="cat-link" href="projets.html">Projets</a>
      <a class="cat-link" href="game.html">Jeu</a>
      <a class="cat-link" href="melody.html">M√©lodie</a>
      <a class="cat-link" href="index.html#contact">Contact</a>
    </nav>
  </div>
</div>




  <main class="container">
    <section>
      <h1 class="reveal">üéπ Piano Trainer ‚Äî Mode Carri√®re</h1>
      <p class="subtitle">Rejoue la s√©quence <strong>en rythme</strong>. Gagne des points, encha√Æne les combos, passe de niveau et bats ton record.</p>

      <div class="card reveal d1">
        <div class="settings">
          <button class="btn primary" id="btn-audio">Activer l‚Äôaudio</button>
          <button class="btn" id="btn-start">‚ñ∂Ô∏è Commencer</button>
          <button class="btn" id="btn-repeat" disabled>‚ü≥ R√©p√©ter</button>
          <button class="btn" id="btn-stop">‚èπÔ∏è Stop</button>
          <div class="pills">
            <span class="pill">Mode: <strong id="modeLabel">M√©lodie</strong></span>
            <span class="pill">Tempo: <strong id="tempoLabel">90</strong> BPM</span>
            <span class="pill">Longueur: <strong id="lenLabel">3</strong></span>
          </div>
        </div>

        <div class="settings" style="margin-top:.6rem">
          <label>Onde
            <select id="wave">
              <option>sine</option><option>triangle</option><option>square</option><option>sawtooth</option>
            </select>
          </label>
          <label>Volume
            <input type="range" id="volume" min="0" max="1" step="0.01" value="0.85">
          </label>
          <label><input type="checkbox" id="sustain"> Sustain</label>
          <label><input type="checkbox" id="metronome" checked> M√©tronome</label>
          <label><input type="checkbox" id="freeplay"> Mode libre</label>
          <button class="btn small" id="btn-help">‚ùî Tutoriel</button>
        </div>

        <div class="hud">
          <div class="box"><div class="muted">Score</div><div class="val" id="score">0</div></div>
          <div class="box"><div class="muted">Combo</div><div class="val" id="combo">0</div></div>
          <div class="box"><div class="muted">Niveau</div><div class="val" id="level">1</div></div>
          <div class="box"><div class="muted">Vies</div><div class="val" id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div></div>
          <div class="box"><div class="muted">Record</div><div class="val" id="best">0</div></div>
        </div>

        <div class="meter" title="Progression lecture">
          <span id="progress" style="width:0%"></span>
        </div>
      </div>

      <div class="card reveal d2">
        <div id="piano" class="piano" role="application" aria-label="Clavier de piano interactif"></div>
        <p class="muted" style="margin-top:1rem">
          Raccourcis : <span class="kbd">A</span>‚Ä¶<span class="kbd">J</span> pour les blanches (C‚ÜíB) ‚Äî <span class="kbd">Espace</span> r√©p√©ter ‚Äî <span class="kbd">Entr√©e</span> commencer.
        </p>
      </div>

      <div class="card reveal d3" id="feedback" role="status" aria-live="polite"></div>
    </section>
  </main>

  <footer>¬© <span id="year"></span> Gr√©gory Sordelet ‚Äî Jeu piano Web Audio.</footer>

  <!-- Tutoriel -->
  <div class="modal" id="modal">
    <div class="panel">
      <h3>Comment jouer</h3>
      <ol class="bullets">
        <li>Clique <strong>Activer l‚Äôaudio</strong>.</li>
        <li>Clique <strong>Commencer</strong> : √©coute la s√©quence jou√©e au tempo.</li>
        <li>Rejoue-la <strong>en rythme</strong> : chaque note dans la bonne case temporelle.</li>
        <li>Plus tu es pr√©cis ‚Üí plus de points. Les combos font grimper le multiplicateur.</li>
        <li>Le <strong>Mode libre</strong> te permet d‚Äôimproviser sur le clavier.</li>
      </ol>
      <div class="end" style="margin-top:.6rem">
        <button class="btn" id="closeHelp">Fermer</button>
      </div>
    </div>
  </div>
</body>
</html>
